{"ast":null,"code":"var _jsxFileName = \"/home/andre/Documents/GithubRepos/Group_06/client/src/pages/Search.js\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Card, Col, Container, ListGroup, Row } from \"react-bootstrap\";\nimport { APIpaths } from \"../API\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\"; // import PaginationNav from \"../components/PaginationNav\";\n\nimport styles from \"./Products.module.css\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\nexport default function Search({\n  query\n}) {\n  const totalPages = useRef(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [nextPage, setNextPage] = useState(null);\n  const [prevPage, setPrevPage] = useState(null);\n  const [products, setProducts] = useState(null);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    setLoading(true);\n    handleGetData(query);\n  }, [query]);\n\n  async function handleGetData(query) {\n    try {\n      const results = await axios.get(`${APIpaths.searchQuery}?q=${query}`);\n      setProducts(results.data); // if (results.data.next) {\n      //   setNextPage(results.data.next.page);\n      // } else {\n      //   setNextPage(null);\n      // }\n      // if (results.data.previous) {\n      //   setPrevPage(results.data.previous.page);\n      // } else {\n      //   setPrevPage(null);\n      // }\n      // if (results.data.total.pages !== totalPages.current) {\n      //   totalPages.current = results.data.total.pages;\n      // }\n\n      setLoading(false);\n    } catch (error) {\n      return console.log(error);\n    }\n  }\n\n  function handleGetNextPage() {\n    if (nextPage !== null) {\n      setCurrentPage(nextPage);\n    } else {\n      return;\n    }\n  }\n\n  function handleGetPreviousPage() {\n    if (prevPage !== null) {\n      setCurrentPage(prevPage);\n    } else {\n      return;\n    }\n  }\n\n  function handleGoToPage(pageNum) {\n    if (currentPage <= totalPages.current && pageNum > 0) {\n      setCurrentPage(pageNum);\n    } else {\n      return;\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(Container, {\n    className: \"min-vh-100 mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, \"Search Results\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, \"showing results for \\\"\", query, \"\\\"\"), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: styles.rowFlex,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, loading ? /*#__PURE__*/React.createElement(LoadingSpinner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }) : products ? products.map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 22\n      }\n    }, \"hello\");\n  }) : /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, \"No content to display.\")))));\n}","map":{"version":3,"sources":["/home/andre/Documents/GithubRepos/Group_06/client/src/pages/Search.js"],"names":["React","useEffect","useRef","useState","Card","Col","Container","ListGroup","Row","APIpaths","axios","Link","styles","LoadingSpinner","Search","query","totalPages","currentPage","setCurrentPage","nextPage","setNextPage","prevPage","setPrevPage","products","setProducts","loading","setLoading","handleGetData","results","get","searchQuery","data","error","console","log","handleGetNextPage","handleGetPreviousPage","handleGoToPage","pageNum","current","rowFlex","map","item","index"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { Card, Col, Container, ListGroup, Row } from \"react-bootstrap\";\nimport { APIpaths } from \"../API\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\n// import PaginationNav from \"../components/PaginationNav\";\nimport styles from \"./Products.module.css\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\n\nexport default function Search({ query }) {\n  const totalPages = useRef(null);\n\n  const [currentPage, setCurrentPage] = useState(1);\n  const [nextPage, setNextPage] = useState(null);\n  const [prevPage, setPrevPage] = useState(null);\n\n  const [products, setProducts] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    handleGetData(query);\n  }, [query]);\n\n  async function handleGetData(query) {\n    try {\n      const results = await axios.get(`${APIpaths.searchQuery}?q=${query}`);\n\n      setProducts(results.data);\n\n      // if (results.data.next) {\n      //   setNextPage(results.data.next.page);\n      // } else {\n      //   setNextPage(null);\n      // }\n\n      // if (results.data.previous) {\n      //   setPrevPage(results.data.previous.page);\n      // } else {\n      //   setPrevPage(null);\n      // }\n\n      // if (results.data.total.pages !== totalPages.current) {\n      //   totalPages.current = results.data.total.pages;\n      // }\n\n      setLoading(false);\n    } catch (error) {\n      return console.log(error);\n    }\n  }\n\n  function handleGetNextPage() {\n    if (nextPage !== null) {\n      setCurrentPage(nextPage);\n    } else {\n      return;\n    }\n  }\n\n  function handleGetPreviousPage() {\n    if (prevPage !== null) {\n      setCurrentPage(prevPage);\n    } else {\n      return;\n    }\n  }\n\n  function handleGoToPage(pageNum) {\n    if (currentPage <= totalPages.current && pageNum > 0) {\n      setCurrentPage(pageNum);\n    } else {\n      return;\n    }\n  }\n\n  return (\n    <Container className=\"min-vh-100 mt-5\">\n      <h1>Search Results</h1>\n      <p>showing results for \"{query}\"</p>\n\n      <Container>\n        <Row className={styles.rowFlex}>\n          {loading ? (\n            <LoadingSpinner />\n          ) : products ? (\n            products.map((item, index) => {\n              return <p>hello</p>;\n            })\n          ) : (\n            <Col>\n              <p>No content to display.</p>\n            </Col>\n          )}\n        </Row>\n      </Container>\n\n      {/* {totalPages.current > 1 ? (\n        <PaginationNav\n          totalPages={totalPages.current}\n          prevPage={prevPage}\n          nextPage={nextPage}\n          currentPage={currentPage}\n          handleGetNextPage={handleGetNextPage}\n          handleGetPreviousPage={handleGetPreviousPage}\n          handleGoToPage={handleGoToPage}\n        />\n      ) : null} */}\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}