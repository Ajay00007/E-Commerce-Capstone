{"ast":null,"code":"import _slicedToArray from\"/home/andre/Documents/GithubRepos/Group_06/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState,useRef}from\"react\";import axios from\"axios\";import{Alert,Button,Container,Form}from\"react-bootstrap\";import{Link,useHistory}from\"react-router-dom\";import{APIpaths}from\"../API\";import{useAuth}from\"../contexts/AuthContext\";export default function EditProduct(_ref){var match=_ref.match;var _useState=useState(),_useState2=_slicedToArray(_useState,2),productData=_useState2[0],setProductData=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var productName=useRef();var manufacturer=useRef();var description=useRef();var price=useRef();var stockQty=useRef();var upc=useRef();var _useAuth=useAuth(),updateProduct=_useAuth.updateProduct;var history=useHistory();function handleSubmit(e){e.preventDefault();try{setError(\"\");var updatedItemData={productName:productName.current.value,manufacturer:manufacturer.current.value,description:description.current.value,price:price.current.value,stockQty:stockQty.current.value,upc:upc.current.value};updateProduct(productData._id,updatedItemData);history.push(\"/product/\".concat(productData._id));}catch(error){setError(\"Failed to update product.\");}}useEffect(function(){axios.get(APIpaths.getOneItem+match.params.id).then(function(res){setProductData(res.data);setLoading(false);}).catch(function(err){return console.log(err);});},[match.params.id]);return/*#__PURE__*/React.createElement(Container,{className:\"min-vh-100 mt-5\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Edit Product\"),error&&/*#__PURE__*/React.createElement(Alert,{variant:\"danger\"},error),loading?/*#__PURE__*/React.createElement(\"h2\",null,\"Loading...\"):/*#__PURE__*/React.createElement(Form,{onSubmit:handleSubmit,encType:\"multipart/form-data\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Product ID: \",productData._id),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"productName\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Product Name\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Enter a product name\",ref:productName,required:true,defaultValue:productData.productName})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"manufacturer\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Manufacturer\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"Enter manufacturer\",ref:manufacturer,required:true,defaultValue:productData.manufacturer})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"description\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Description\"),/*#__PURE__*/React.createElement(Form.Control,{as:\"textarea\",rows:3,ref:description,defaultValue:productData.description,required:true})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"price\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Price\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"number\",step:\"0.01\",placeholder:\"100.00\",ref:price,required:true,defaultValue:productData.price})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"upcId\"},/*#__PURE__*/React.createElement(Form.Label,null,\"UPC\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",placeholder:\"123456789-0\",ref:upc,required:true,defaultValue:productData.upc})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"stockQty\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Stock Quantity\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"number\",step:\"1\",placeholder:\"50\",ref:stockQty,defaultValue:productData.stockQty})),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",className:\"mr-4\",type:\"submit\",onClick:handleSubmit},\"Submit\"),/*#__PURE__*/React.createElement(Button,{variant:\"secondary\",as:Link,to:\"/product/\".concat(match.params.id)},\"Cancel\")));}","map":{"version":3,"sources":["/home/andre/Documents/GithubRepos/Group_06/client/src/pages/EditProduct.js"],"names":["React","useEffect","useState","useRef","axios","Alert","Button","Container","Form","Link","useHistory","APIpaths","useAuth","EditProduct","match","productData","setProductData","loading","setLoading","error","setError","productName","manufacturer","description","price","stockQty","upc","updateProduct","history","handleSubmit","e","preventDefault","updatedItemData","current","value","_id","push","get","getOneItem","params","id","then","res","data","catch","err","console","log"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport { Alert, Button, Container, Form } from \"react-bootstrap\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { APIpaths } from \"../API\";\nimport { useAuth } from \"../contexts/AuthContext\";\n\nexport default function EditProduct({ match }) {\n  const [productData, setProductData] = useState();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n\n  const productName = useRef();\n  const manufacturer = useRef();\n  const description = useRef();\n  const price = useRef();\n  const stockQty = useRef();\n  const upc = useRef();\n\n  const { updateProduct } = useAuth();\n\n  const history = useHistory();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    try {\n      setError(\"\");\n\n      const updatedItemData = {\n        productName: productName.current.value,\n        manufacturer: manufacturer.current.value,\n        description: description.current.value,\n        price: price.current.value,\n        stockQty: stockQty.current.value,\n        upc: upc.current.value,\n      };\n\n      updateProduct(productData._id, updatedItemData);\n\n      history.push(`/product/${productData._id}`);\n    } catch (error) {\n      setError(\"Failed to update product.\");\n    }\n  }\n\n  useEffect(() => {\n    axios\n      .get(APIpaths.getOneItem + match.params.id)\n      .then((res) => {\n        setProductData(res.data);\n        setLoading(false);\n      })\n      .catch((err) => console.log(err));\n  }, [match.params.id]);\n\n  return (\n    <Container className=\"min-vh-100 mt-5\">\n      <h1>Edit Product</h1>\n      {error && <Alert variant=\"danger\">{error}</Alert>}\n      {loading ? (\n        <h2>Loading...</h2>\n      ) : (\n        <Form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n          <h2>Product ID: {productData._id}</h2>\n          <Form.Group controlId=\"productName\">\n            <Form.Label>Product Name</Form.Label>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Enter a product name\"\n              ref={productName}\n              required\n              defaultValue={productData.productName}\n            />\n          </Form.Group>\n\n          <Form.Group controlId=\"manufacturer\">\n            <Form.Label>Manufacturer</Form.Label>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Enter manufacturer\"\n              ref={manufacturer}\n              required\n              defaultValue={productData.manufacturer}\n            />\n          </Form.Group>\n\n          <Form.Group controlId=\"description\">\n            <Form.Label>Description</Form.Label>\n            <Form.Control\n              as=\"textarea\"\n              rows={3}\n              ref={description}\n              defaultValue={productData.description}\n              required\n            />\n          </Form.Group>\n\n          <Form.Group controlId=\"price\">\n            <Form.Label>Price</Form.Label>\n            <Form.Control\n              type=\"number\"\n              step=\"0.01\"\n              placeholder=\"100.00\"\n              ref={price}\n              required\n              defaultValue={productData.price}\n            />\n          </Form.Group>\n\n          <Form.Group controlId=\"upcId\">\n            <Form.Label>UPC</Form.Label>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"123456789-0\"\n              ref={upc}\n              required\n              defaultValue={productData.upc}\n            />\n          </Form.Group>\n\n          <Form.Group controlId=\"stockQty\">\n            <Form.Label>Stock Quantity</Form.Label>\n            <Form.Control\n              type=\"number\"\n              step=\"1\"\n              placeholder=\"50\"\n              ref={stockQty}\n              defaultValue={productData.stockQty}\n            />\n          </Form.Group>\n\n          <hr />\n\n          <Button\n            variant=\"primary\"\n            className=\"mr-4\"\n            type=\"submit\"\n            onClick={handleSubmit}\n          >\n            Submit\n          </Button>\n\n          <Button\n            variant=\"secondary\"\n            as={Link}\n            to={`/product/${match.params.id}`}\n          >\n            Cancel\n          </Button>\n        </Form>\n      )}\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}