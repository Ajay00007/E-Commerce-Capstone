{"ast":null,"code":"import _regeneratorRuntime from\"/home/andre/Documents/GithubRepos/Group_06/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/andre/Documents/GithubRepos/Group_06/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/andre/Documents/GithubRepos/Group_06/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{useRef}from\"react\";import{Alert,Button,Container,Form}from\"react-bootstrap\";import{Link,useHistory}from\"react-router-dom\";import{useAuth}from\"../contexts/AuthContext\";export default function Login(){var emailRef=useRef();var passwordRef=useRef();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useAuth=useAuth(),loginUser=_useAuth.loginUser;var history=useHistory();function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;setError(\"\");_context.next=5;return loginUser(emailRef.current.value,passwordRef.current.value);case 5:history.goBack();_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);setError(\"Failed to login.\");case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/React.createElement(Container,{className:\"min-vh-100 mt-5\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Login\"),error&&/*#__PURE__*/React.createElement(Alert,{variant:\"danger\"},error),/*#__PURE__*/React.createElement(Form,{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicEmail\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Email address\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"email\",placeholder:\"Enter email\",ref:emailRef,required:true})),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicPassword\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Password\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"password\",placeholder:\"Password\",ref:passwordRef,required:true})),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",type:\"submit\"},\"Submit\")),/*#__PURE__*/React.createElement(\"div\",{className:\"div mt-2\"},\"New user? \",/*#__PURE__*/React.createElement(Link,{to:\"/register\"},\"Register now.\")));}","map":{"version":3,"sources":["/home/andre/Documents/GithubRepos/Group_06/client/src/pages/Login.js"],"names":["React","useState","useRef","Alert","Button","Container","Form","Link","useHistory","useAuth","Login","emailRef","passwordRef","error","setError","loginUser","history","handleSubmit","e","preventDefault","current","value","goBack"],"mappings":"qfAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,MAAT,KAAuB,OAAvB,CACA,OAASC,KAAT,CAAgBC,MAAhB,CAAwBC,SAAxB,CAAmCC,IAAnC,KAA+C,iBAA/C,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,OAASC,OAAT,KAAwB,yBAAxB,CAEA,cAAe,SAASC,CAAAA,KAAT,EAAiB,CAC9B,GAAMC,CAAAA,QAAQ,CAAGT,MAAM,EAAvB,CACA,GAAMU,CAAAA,WAAW,CAAGV,MAAM,EAA1B,CAF8B,cAIJD,QAAQ,CAAC,EAAD,CAJJ,wCAIvBY,KAJuB,eAIhBC,QAJgB,4BAMRL,OAAO,EANC,CAMtBM,SANsB,UAMtBA,SANsB,CAO9B,GAAMC,CAAAA,OAAO,CAAGR,UAAU,EAA1B,CAP8B,QASfS,CAAAA,YATe,gJAS9B,iBAA4BC,CAA5B,kHACEA,CAAC,CAACC,cAAF,GADF,gBAIIL,QAAQ,CAAC,EAAD,CAAR,CAJJ,sBAKUC,CAAAA,SAAS,CAACJ,QAAQ,CAACS,OAAT,CAAiBC,KAAlB,CAAyBT,WAAW,CAACQ,OAAZ,CAAoBC,KAA7C,CALnB,QAMIL,OAAO,CAACM,MAAR,GANJ,+EAQIR,QAAQ,CAAC,kBAAD,CAAR,CARJ,oEAT8B,+CAqB9B,mBACE,oBAAC,SAAD,EAAW,SAAS,CAAC,iBAArB,eACE,sCADF,CAEGD,KAAK,eAAI,oBAAC,KAAD,EAAO,OAAO,CAAC,QAAf,EAAyBA,KAAzB,CAFZ,cAGE,oBAAC,IAAD,EAAM,QAAQ,CAAEI,YAAhB,eACE,oBAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,gBAAtB,eACE,oBAAC,IAAD,CAAM,KAAN,sBADF,cAEE,oBAAC,IAAD,CAAM,OAAN,EACE,IAAI,CAAC,OADP,CAEE,WAAW,CAAC,aAFd,CAGE,GAAG,CAAEN,QAHP,CAIE,QAAQ,KAJV,EAFF,CADF,cAWE,oBAAC,IAAD,CAAM,KAAN,EAAY,SAAS,CAAC,mBAAtB,eACE,oBAAC,IAAD,CAAM,KAAN,iBADF,cAEE,oBAAC,IAAD,CAAM,OAAN,EACE,IAAI,CAAC,UADP,CAEE,WAAW,CAAC,UAFd,CAGE,GAAG,CAAEC,WAHP,CAIE,QAAQ,KAJV,EAFF,CAXF,cAqBE,oBAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,IAAI,CAAC,QAA/B,WArBF,CAHF,cA4BE,2BAAK,SAAS,CAAC,UAAf,4BACY,oBAAC,IAAD,EAAM,EAAE,CAAC,WAAT,kBADZ,CA5BF,CADF,CAkCD","sourcesContent":["import React, { useState } from \"react\";\nimport { useRef } from \"react\";\nimport { Alert, Button, Container, Form } from \"react-bootstrap\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/AuthContext\";\n\nexport default function Login() {\n  const emailRef = useRef();\n  const passwordRef = useRef();\n\n  const [error, setError] = useState(\"\");\n\n  const { loginUser } = useAuth();\n  const history = useHistory();\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    try {\n      setError(\"\");\n      await loginUser(emailRef.current.value, passwordRef.current.value);\n      history.goBack();\n    } catch (error) {\n      setError(\"Failed to login.\");\n    }\n  }\n\n  return (\n    <Container className=\"min-vh-100 mt-5\">\n      <h1>Login</h1>\n      {error && <Alert variant=\"danger\">{error}</Alert>}\n      <Form onSubmit={handleSubmit}>\n        <Form.Group controlId=\"formBasicEmail\">\n          <Form.Label>Email address</Form.Label>\n          <Form.Control\n            type=\"email\"\n            placeholder=\"Enter email\"\n            ref={emailRef}\n            required\n          />\n        </Form.Group>\n\n        <Form.Group controlId=\"formBasicPassword\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control\n            type=\"password\"\n            placeholder=\"Password\"\n            ref={passwordRef}\n            required\n          />\n        </Form.Group>\n\n        <Button variant=\"primary\" type=\"submit\">\n          Submit\n        </Button>\n      </Form>\n      <div className=\"div mt-2\">\n        New user? <Link to=\"/register\">Register now.</Link>\n      </div>\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}