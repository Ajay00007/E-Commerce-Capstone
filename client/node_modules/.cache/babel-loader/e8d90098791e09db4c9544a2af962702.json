{"ast":null,"code":"import _regeneratorRuntime from\"/home/andre/Documents/GithubRepos/Group_06/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/andre/Documents/GithubRepos/Group_06/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/andre/Documents/GithubRepos/Group_06/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Col,Container,Row}from\"react-bootstrap\";import{APIpaths}from\"../API\";import axios from\"axios\";import{useLocation}from\"react-router-dom\";import styles from\"./Products.module.css\";import LoadingSpinner from\"../components/LoadingSpinner\";import CardItem from\"../components/CardItem\";export default function Search(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var query=new URLSearchParams(useLocation().search).get(\"q\");useEffect(function(){setLoading(true);handleGetData(query);},[query]);function handleGetData(_x){return _handleGetData.apply(this,arguments);}function _handleGetData(){_handleGetData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(query){var results;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(APIpaths.searchQuery,\"?q=\").concat(query));case 3:results=_context.sent;setProducts(results.data);setLoading(false);_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);setLoading(false);return _context.abrupt(\"return\",console.log(_context.t0));case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return _handleGetData.apply(this,arguments);}return/*#__PURE__*/React.createElement(Container,{className:\"min-vh-100 mt-5 mb-5\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Search Results\"),/*#__PURE__*/React.createElement(Container,{className:\"text-center\"},!loading&&products&&products.length>0?/*#__PURE__*/React.createElement(\"p\",null,\"Showing results for \\\"\",query,\"\\\"\"):null,/*#__PURE__*/React.createElement(Row,{className:styles.rowFlex},loading?/*#__PURE__*/React.createElement(LoadingSpinner,null):products&&products.length>0?products.map(CardItem):/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"p\",null,\"No content to display.\")))));}","map":{"version":3,"sources":["/home/andre/Documents/GithubRepos/Group_06/client/src/pages/Search.js"],"names":["React","useEffect","useState","Col","Container","Row","APIpaths","axios","useLocation","styles","LoadingSpinner","CardItem","Search","products","setProducts","loading","setLoading","query","URLSearchParams","search","get","handleGetData","searchQuery","results","data","console","log","length","rowFlex","map"],"mappings":"qfAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,GAAT,CAAcC,SAAd,CAAyBC,GAAzB,KAAoC,iBAApC,CACA,OAASC,QAAT,KAAyB,QAAzB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,CAAAA,MAAP,KAAmB,uBAAnB,CACA,MAAOC,CAAAA,cAAP,KAA2B,8BAA3B,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CAEA,cAAe,SAASC,CAAAA,MAAT,EAAkB,eACCV,QAAQ,CAAC,IAAD,CADT,wCACxBW,QADwB,eACdC,WADc,8BAEDZ,QAAQ,CAAC,IAAD,CAFP,yCAExBa,OAFwB,eAEfC,UAFe,eAI/B,GAAMC,CAAAA,KAAK,CAAG,GAAIC,CAAAA,eAAJ,CAAoBV,WAAW,GAAGW,MAAlC,EAA0CC,GAA1C,CAA8C,GAA9C,CAAd,CAEAnB,SAAS,CAAC,UAAM,CACde,UAAU,CAAC,IAAD,CAAV,CACAK,aAAa,CAACJ,KAAD,CAAb,CACD,CAHQ,CAGN,CAACA,KAAD,CAHM,CAAT,CAN+B,QAWhBI,CAAAA,aAXgB,mJAW/B,iBAA6BJ,KAA7B,oKAE0BV,CAAAA,KAAK,CAACa,GAAN,WAAad,QAAQ,CAACgB,WAAtB,eAAuCL,KAAvC,EAF1B,QAEUM,OAFV,eAIIT,WAAW,CAACS,OAAO,CAACC,IAAT,CAAX,CAEAR,UAAU,CAAC,KAAD,CAAV,CANJ,+EAQIA,UAAU,CAAC,KAAD,CAAV,CARJ,gCASWS,OAAO,CAACC,GAAR,aATX,sEAX+B,gDAwB/B,mBACE,oBAAC,SAAD,EAAW,SAAS,CAAC,sBAArB,eACE,+CADF,cAGE,oBAAC,SAAD,EAAW,SAAS,CAAC,aAArB,EACG,CAACX,OAAD,EAAYF,QAAZ,EAAwBA,QAAQ,CAACc,MAAT,CAAkB,CAA1C,cACC,sDAAyBV,KAAzB,MADD,CAEG,IAHN,cAIE,oBAAC,GAAD,EAAK,SAAS,CAAER,MAAM,CAACmB,OAAvB,EACGb,OAAO,cACN,oBAAC,cAAD,MADM,CAEJF,QAAQ,EAAIA,QAAQ,CAACc,MAAT,CAAkB,CAA9B,CACFd,QAAQ,CAACgB,GAAT,CAAalB,QAAb,CADE,cAGF,oBAAC,GAAD,mBACE,sDADF,CANJ,CAJF,CAHF,CADF,CAsBD","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Col, Container, Row } from \"react-bootstrap\";\nimport { APIpaths } from \"../API\";\nimport axios from \"axios\";\nimport { useLocation } from \"react-router-dom\";\nimport styles from \"./Products.module.css\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\nimport CardItem from \"../components/CardItem\";\n\nexport default function Search() {\n  const [products, setProducts] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const query = new URLSearchParams(useLocation().search).get(\"q\");\n\n  useEffect(() => {\n    setLoading(true);\n    handleGetData(query);\n  }, [query]);\n\n  async function handleGetData(query) {\n    try {\n      const results = await axios.get(`${APIpaths.searchQuery}?q=${query}`);\n\n      setProducts(results.data);\n\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n      return console.log(error);\n    }\n  }\n\n  return (\n    <Container className=\"min-vh-100 mt-5 mb-5\">\n      <h1>Search Results</h1>\n\n      <Container className=\"text-center\">\n        {!loading && products && products.length > 0 ? (\n          <p>Showing results for \"{query}\"</p>\n        ) : null}\n        <Row className={styles.rowFlex}>\n          {loading ? (\n            <LoadingSpinner />\n          ) : products && products.length > 0 ? (\n            products.map(CardItem)\n          ) : (\n            <Col>\n              <p>No content to display.</p>\n            </Col>\n          )}\n        </Row>\n      </Container>\n    </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}