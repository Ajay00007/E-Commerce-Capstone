{"ast":null,"code":"var _jsxFileName = \"/home/andre/Documents/GithubRepos/Group_06/client/src/contexts/CartContext.js\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { APIpaths } from \"../API\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\nconst CartContext = React.createContext();\nexport function useCart() {\n  return useContext(CartContext);\n}\nexport function CartProvider({\n  children\n}) {\n  const [cartItems, setCartItems] = useLocalStorage(\"cart-items\", []);\n  const [loading, setLoading] = useState(true);\n\n  async function addToCart(productID) {\n    try {\n      const product = await axios.get(`${APIpaths.getOneItem}${productID}`);\n      setCartItems(product.data);\n      setLoading(false);\n    } catch (error) {\n      return;\n    }\n  }\n\n  useEffect(() => {\n    setCartItems(cartItems);\n    setLoading(false);\n  }, [cartItems, setCartItems]);\n  const value = {\n    cartItems,\n    addToCart\n  };\n  return /*#__PURE__*/React.createElement(CartContext.Provider, {\n    value: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, !loading && children);\n}","map":{"version":3,"sources":["/home/andre/Documents/GithubRepos/Group_06/client/src/contexts/CartContext.js"],"names":["React","useContext","useEffect","useState","axios","APIpaths","useLocalStorage","CartContext","createContext","useCart","CartProvider","children","cartItems","setCartItems","loading","setLoading","addToCart","productID","product","get","getOneItem","data","error","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,EAAuCC,QAAvC,QAAuD,OAAvD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,QAAzB;AACA,OAAOC,eAAP,MAA4B,0BAA5B;AAEA,MAAMC,WAAW,GAAGP,KAAK,CAACQ,aAAN,EAApB;AAEA,OAAO,SAASC,OAAT,GAAmB;AACxB,SAAOR,UAAU,CAACM,WAAD,CAAjB;AACD;AAED,OAAO,SAASG,YAAT,CAAsB;AAAEC,EAAAA;AAAF,CAAtB,EAAoC;AACzC,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BP,eAAe,CAAC,YAAD,EAAe,EAAf,CAAjD;AACA,QAAM,CAACQ,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,IAAD,CAAtC;;AAEA,iBAAea,SAAf,CAAyBC,SAAzB,EAAoC;AAClC,QAAI;AACF,YAAMC,OAAO,GAAG,MAAMd,KAAK,CAACe,GAAN,CAAW,GAAEd,QAAQ,CAACe,UAAW,GAAEH,SAAU,EAA7C,CAAtB;AACAJ,MAAAA,YAAY,CAACK,OAAO,CAACG,IAAT,CAAZ;AACAN,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAJD,CAIE,OAAOO,KAAP,EAAc;AACd;AACD;AACF;;AAEDpB,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,YAAY,CAACD,SAAD,CAAZ;AACAG,IAAAA,UAAU,CAAC,KAAD,CAAV;AACD,GAHQ,EAGN,CAACH,SAAD,EAAYC,YAAZ,CAHM,CAAT;AAKA,QAAMU,KAAK,GAAG;AACZX,IAAAA,SADY;AAEZI,IAAAA;AAFY,GAAd;AAKA,sBACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAEO,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACT,OAAD,IAAYH,QADf,CADF;AAKD","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { APIpaths } from \"../API\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\n\nconst CartContext = React.createContext();\n\nexport function useCart() {\n  return useContext(CartContext);\n}\n\nexport function CartProvider({ children }) {\n  const [cartItems, setCartItems] = useLocalStorage(\"cart-items\", []);\n  const [loading, setLoading] = useState(true);\n\n  async function addToCart(productID) {\n    try {\n      const product = await axios.get(`${APIpaths.getOneItem}${productID}`);\n      setCartItems(product.data);\n      setLoading(false);\n    } catch (error) {\n      return;\n    }\n  }\n\n  useEffect(() => {\n    setCartItems(cartItems);\n    setLoading(false);\n  }, [cartItems, setCartItems]);\n\n  const value = {\n    cartItems,\n    addToCart,\n  };\n\n  return (\n    <CartContext.Provider value={value}>\n      {!loading && children}\n    </CartContext.Provider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}