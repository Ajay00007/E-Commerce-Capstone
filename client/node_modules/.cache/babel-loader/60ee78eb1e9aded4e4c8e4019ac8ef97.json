{"ast":null,"code":"import _slicedToArray from\"/home/andre/Documents/GithubRepos/Group_06/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Navbar,Nav,Form,FormControl,Button,Dropdown,Badge}from\"react-bootstrap\";import{Link,useHistory}from\"react-router-dom\";import{useAuth}from\"../contexts/AuthContext\";import{useCart}from\"../contexts/CartContext\";export default function TopNav(){var _useAuth=useAuth(),currentUser=_useAuth.currentUser,isAdmin=_useAuth.isAdmin,logout=_useAuth.logout;var _useCart=useCart(),cartItems=_useCart.cartItems;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),queryStr=_useState2[0],setQueryStr=_useState2[1];var history=useHistory();function handleSearchSubmit(e){e.preventDefault();if(!queryStr||queryStr===\"\")return;setQueryStr(\"\");history.push(\"/search?q=\".concat(queryStr));}return/*#__PURE__*/React.createElement(Navbar,{bg:\"dark\",variant:\"dark\",expand:\"lg\"},/*#__PURE__*/React.createElement(Navbar.Brand,{as:Link,to:\"/\",className:\"d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"img\",{src:\"\".concat(process.env.PUBLIC_URL,\"/logo512.png\"),alt:\"EcoMetric\",style:{height:\"25px\"}}),\" \",\"EcoMetrix\"),/*#__PURE__*/React.createElement(Navbar.Toggle,{\"aria-controls\":\"topNav\"}),/*#__PURE__*/React.createElement(Navbar.Collapse,{id:\"topNav\"},/*#__PURE__*/React.createElement(Nav,{className:\"mr-auto\"},/*#__PURE__*/React.createElement(Nav.Link,{as:Link,to:\"/products\"},\"Products\")),/*#__PURE__*/React.createElement(Nav,{className:\"ml-auto\"},currentUser?/*#__PURE__*/React.createElement(Dropdown,null,/*#__PURE__*/React.createElement(Dropdown.Toggle,{variant:\"dark\"},\"Hello, \",currentUser.name,\"!\"),/*#__PURE__*/React.createElement(Dropdown.Menu,null,isAdmin?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Dropdown.Header,null,\"Admin Menu\"),/*#__PURE__*/React.createElement(Dropdown.Item,{as:Link,to:\"/admin-dashboard\"},\"Dashboard\"),/*#__PURE__*/React.createElement(Dropdown.Item,{as:Link,to:\"/add-product\"},\"Add Product\")):/*#__PURE__*/React.createElement(Dropdown.Item,{as:Link,to:\"/update-account\"},\"Account Details\"))):null,/*#__PURE__*/React.createElement(Nav.Link,{as:Link,to:\"/cart\",\"aria-label\":\"shopping cart\",\"data-toggle\":\"tooltip\",\"data-placement\":\"bottom\",title:\"Shopping Cart\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-shopping-cart\"}),cartItems.length>0?/*#__PURE__*/React.createElement(Badge,{variant:\"danger\"},cartItems.length<=10?cartItems.length:\"10+\"):null),currentUser?/*#__PURE__*/React.createElement(Nav.Link,{as:Link,to:\"/\",onClick:logout},\"Logout\"):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Nav.Link,{as:Link,to:\"/register\"},\"Register\"),/*#__PURE__*/React.createElement(Nav.Link,{as:Link,to:\"/login\"},\"Login\"))),/*#__PURE__*/React.createElement(Form,{inline:true,onSubmit:handleSearchSubmit},/*#__PURE__*/React.createElement(FormControl,{type:\"text\",placeholder:\"Search...\",className:\"mr-sm-2\",onChange:function onChange(e){return setQueryStr(e.target.value);},value:queryStr}),/*#__PURE__*/React.createElement(Button,{variant:\"outline-info\",type:\"submit\",disabled:queryStr===\"\"?true:false},\"Search\"))));}","map":{"version":3,"sources":["/home/andre/Documents/GithubRepos/Group_06/client/src/components/TopNav.js"],"names":["React","useState","Navbar","Nav","Form","FormControl","Button","Dropdown","Badge","Link","useHistory","useAuth","useCart","TopNav","currentUser","isAdmin","logout","cartItems","queryStr","setQueryStr","history","handleSearchSubmit","e","preventDefault","push","process","env","PUBLIC_URL","height","name","length","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport {\n  Navbar,\n  Nav,\n  Form,\n  FormControl,\n  Button,\n  Dropdown,\n  Badge,\n} from \"react-bootstrap\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { useCart } from \"../contexts/CartContext\";\n\nexport default function TopNav() {\n  const { currentUser, isAdmin, logout } = useAuth();\n  const { cartItems } = useCart();\n\n  const [queryStr, setQueryStr] = useState(\"\");\n\n  const history = useHistory();\n\n  function handleSearchSubmit(e) {\n    e.preventDefault();\n    if (!queryStr || queryStr === \"\") return;\n    setQueryStr(\"\");\n    history.push(`/search?q=${queryStr}`);\n  }\n\n  return (\n    <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\">\n      <Navbar.Brand as={Link} to=\"/\" className=\"d-flex align-items-center\">\n        <img\n          src={`${process.env.PUBLIC_URL}/logo512.png`}\n          alt=\"EcoMetric\"\n          style={{ height: \"25px\" }}\n        />{\" \"}\n        EcoMetrix\n      </Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"topNav\" />\n      <Navbar.Collapse id=\"topNav\">\n        <Nav className=\"mr-auto\">\n          <Nav.Link as={Link} to=\"/products\">\n            Products\n          </Nav.Link>\n        </Nav>\n        <Nav className=\"ml-auto\">\n          {currentUser ? (\n            <Dropdown>\n              <Dropdown.Toggle variant=\"dark\">\n                Hello, {currentUser.name}!\n              </Dropdown.Toggle>\n\n              <Dropdown.Menu>\n                {isAdmin ? (\n                  <>\n                    <Dropdown.Header>Admin Menu</Dropdown.Header>\n                    <Dropdown.Item as={Link} to=\"/admin-dashboard\">\n                      Dashboard\n                    </Dropdown.Item>\n                    <Dropdown.Item as={Link} to=\"/add-product\">\n                      Add Product\n                    </Dropdown.Item>\n                  </>\n                ) : (\n                  <Dropdown.Item as={Link} to=\"/update-account\">\n                    Account Details\n                  </Dropdown.Item>\n                )}\n              </Dropdown.Menu>\n            </Dropdown>\n          ) : null}\n\n          <Nav.Link\n            as={Link}\n            to=\"/cart\"\n            aria-label=\"shopping cart\"\n            data-toggle=\"tooltip\"\n            data-placement=\"bottom\"\n            title=\"Shopping Cart\"\n          >\n            <i className=\"fas fa-shopping-cart\"></i>\n            {cartItems.length > 0 ? (\n              <Badge variant=\"danger\">\n                {cartItems.length <= 10 ? cartItems.length : `10+`}\n              </Badge>\n            ) : null}\n          </Nav.Link>\n\n          {currentUser ? (\n            <Nav.Link as={Link} to=\"/\" onClick={logout}>\n              Logout\n            </Nav.Link>\n          ) : (\n            <>\n              <Nav.Link as={Link} to=\"/register\">\n                Register\n              </Nav.Link>\n\n              <Nav.Link as={Link} to=\"/login\">\n                Login\n              </Nav.Link>\n            </>\n          )}\n        </Nav>\n\n        <Form inline onSubmit={handleSearchSubmit}>\n          <FormControl\n            type=\"text\"\n            placeholder=\"Search...\"\n            className=\"mr-sm-2\"\n            onChange={(e) => setQueryStr(e.target.value)}\n            value={queryStr}\n          />\n          <Button\n            variant=\"outline-info\"\n            type=\"submit\"\n            disabled={queryStr === \"\" ? true : false}\n          >\n            Search\n          </Button>\n        </Form>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}